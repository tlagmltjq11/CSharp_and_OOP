## Main Concept
Factory : ê°ì²´ ìƒì„±ì„ ì²˜ë¦¬í•˜ëŠ” í´ë˜ìŠ¤<br>
Factory Pattern : ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì—­í• ì„ íŒ©í† ë¦¬ í´ë˜ìŠ¤ê°€ ì „ë‹´í•˜ê²Œ í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´<br>
<br>
<br>

## Simple Factory Pattern
Simple factoryëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ê³¼ ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì˜ ë² ì´ìŠ¤ê°€ ëœë‹¤.<br>
ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì´ê±¸ ì´í•´í•´ì•¼ ë‹¤ë¥¸ factory patternë“¤ì˜ ì´í•´ë„ ì‰¬ì›Œì§„ë‹¤.<br>
ì°¸ê³ ë¡œ, simple factoryëŠ” ë””ìì¸ 'íŒ¨í„´'ì´ë¼ê³  í•  ìˆ˜ëŠ” ì—†ê³ , oopì—ì„œ ìì£¼ ì“°ì´ëŠ” ê´€ìš©êµ¬ë¼ê³  ë³´ë©´ ëœë‹¤.<br>

Simple Factory ë€ ê°ì²´ë¥¼ ìƒì„±í•´ë‚´ëŠ” ê³µì¥ì„ ë”°ë¡œ ë‘ëŠ” ê²ƒì´ë‹¤.<br>
ì¦‰, ê°ì²´ ìƒì„± ë¶€ë¶„ì„ ì „ë‹´í•˜ëŠ” í´ë˜ìŠ¤ê°€ ë”°ë¡œ ìˆëŠ” ê²ƒì´ë‹¤. <br>

Pizza ê°ì²´ ë§Œë“œëŠ” ê²ƒì„ ì˜ˆë¡œ ë“¤ì–´ë³´ì ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ Pizzaë“¤(ê°ì²´)ì´ ìˆê³ , í”¼ì ê°€ê²Œ(Pizza Store)ì—<br>
í”¼ì ì£¼ë¬¸(orderPizza)ì´ ë“¤ì–´ì˜¤ë©´ ê°€ê²Œì—ì„œ ì§ì ‘ ê°ì²´(Pizza)ë¥¼ ìƒì„±í•  ìˆ˜ë„ ìˆë‹¤.<br>

ê·¸ëŸ¬ë‚˜ ì‹¬í”Œ íŒ©í† ë¦¬ì—ì„œëŠ” ì´ ê°ì²´ì˜ ìƒì„±ë§Œì„ ì²˜ë¦¬í•˜ëŠ” ê³µì¥(Pizza factory)ì„ ë”°ë¡œ ë‘ëŠ” ê²ƒì´ë‹¤.<br>
í”¼ìë¥¼ ìƒì„±í•˜ëŠ” ì‘ì—…ì„ í•œ í´ë˜ìŠ¤ì— ìº¡ìŠí™”ì‹œì¼œ ë†“ì•˜ê¸° ë•Œë¬¸ì—, ìˆ˜ì • ì‚¬í•­ì´ ìˆì„ ë•Œ ì—¬ê¸°ì €ê¸° ë‹¤ ë“¤ì–´ê°€ì„œ ê³ ì¹  í•„ìš” ì—†ì´<br>
factory class í•˜ë‚˜ë§Œ ê³ ì¹˜ë©´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì¦‰ ìˆ˜ì •ì´ ìš©ì´í•  ê²ƒì´ê³  ì´ê²ƒì€ ìœ ì§€ ë³´ìˆ˜ ë¹„ìš©ì´ ì ê²Œ ë“œëŠ” ê²ƒê³¼ ì§ê²°ë  ê²ƒì´ë‹¤.<br>
ë˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ê°€ í”¼ì ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ìƒê¸´ë‹¤ë©´ ì´ SimplePizzaFactoryë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.<br>

Simple Factoryì˜ ì¥ì ì€ ì´ í•œë§ˆë””ë¡œ ì •ë¦¬ ë  ìˆ˜ ìˆë‹¤.<br>
ê°ì²´ ìƒì„± ë¶€ë¶„ì„ í•œ í´ë˜ìŠ¤ì— ìº¡ìŠí™”í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë©° ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•œ ì½”ë“œ ì¤‘ë³µì„ ë°©ì§€ í•  ìˆ˜ ìˆë‹¤.<br>
ex) Aí´ë˜ìŠ¤ì—ì„œë„ ê°ì²´ê°€ í•„ìš”í•˜ê³  Bí´ë˜ìŠ¤ì—ì„œë„ í•„ìš”í•  ë•Œ ê°ì ê°ì²´ ìƒì„±ì„ êµ¬í˜„í•˜ëŠ” ì½”ë“œ ì¤‘ë³µ ìƒí™©ì„ ë°©ì§€<br>
<br>
<br>

ì˜ˆì‹œ ì½”ë“œ<br> 
```c#
public enum UnitType
{
	 Marine,
	 Firebat,
	 Medic
}

public class UnitFactory
{
    public static Unit createUnit(UnitType type)
    {
    	Unit unit = null;

	switch (type)
	{
        case UnitType.Marine:
            unit = new Marine();
            break;
            
        case UnitType.Firebat:
            unit = new Firebat();
            break;
            
        case UnitType.Medic:
            unit = new Medic();
            break;
	}
    
    	return unit;
    }
}

public class FactoryUse : MonoBehaviour 
{
   void Start () 
   {
       Unit unit1 = UnitFactory.createUnit(UnitType.Marine);
       Unit unit2 = UnitFactory.createUnit(UnitType.Firebat);
       Unit unit3 = UnitFactory.createUnit(UnitType.Medic);

       unit1.move();
       unit2.move();
       unit3.move();
   }
}
```
<br>
<br>

Simple Factoryì˜ ê²½ìš° Factory í´ë˜ìŠ¤ì—ì„œ ìƒì„±í•´ì•¼ í•˜ëŠ” Unitì˜ íƒ€ì…ì´ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ë¶„ê¸°ë¬¸ì´ ê¸‰ìˆ˜ì ìœ¼ë¡œ ëŠ˜ì–´ë‚˜ë©°<br>
íƒ€ì…ë³„ë¡œ ìƒˆë¡œìš´ ë©”ì„œë“œë¥¼ ìƒì„±í•´ì•¼ í•  ìˆ˜ë„ ìˆê³  ì½”ë“œ ì¤‘ë³µì˜ ê°€ëŠ¥ì„± ë¬¸ì œê°€ ì¡´ì¬í•œë‹¤.<br>
<br>
<br>

## Factory Method Pattern
ìƒì„±í•˜ëŠ” ê³µì¥ì€ ë”± í•˜ë‚˜. ê·¸ëŸ¬ë‚˜ ì–´ë–»ê²Œ ìƒì„±í• ì§€ì— ëŒ€í•œ ì—¬ëŸ¬ ë°©ì‹ë“¤ì„ ê³µì¥ì˜ ìì‹ í´ë˜ìŠ¤ë“¤ë¡œ êµ¬í˜„.
ìƒì„± í•¨ìˆ˜ë¥¼ ë”°ë¡œ ì •ì˜í•´ì£¼ëŠ” ê²ƒì´ íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì˜ ìš”ì ì´ë‹¤.

ë‹¤ì–‘í•œ ìì‹ë“¤ì„ ìƒì„±í•˜ê³  ë¦¬í„´í•˜ëŠ” íŒ©í† ë¦¬ í´ë˜ìŠ¤ëŠ” ë”± í•˜ë‚˜ë§Œ ë‘ê³ 
ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ëª‡ê°œ ìƒì„±í• ì§€ ë“±ë“± ì´ëŸ° ì–´ë–¤ì‹ìœ¼ë¡œ ìƒì„±í• ì§€ì— ê´€í•œ ìƒì„±ì˜ í˜•íƒœëŠ” íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” ì„œë¸Œ íŒ©í† ë¦¬ í´ë˜ìŠ¤ë“¤ì—ê²Œ ë§¡ê¸´ë‹¤.
ìƒì„± í˜•íƒœëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆìœ¼ë¯€ë¡œ ì„œë¸Œ íŒ©í† ë¦¬ í´ë˜ìŠ¤ë“¤ì€ ì—¬ëŸ¬ê°œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.
ì˜¤ë¸Œì íŠ¸ ìƒì‚° ê³µì¥ ğŸ‘‰ íŒ©í† ë¦¬ í´ë˜ìŠ¤ (ë¶€ëª¨)
ì˜¤ë¸Œì íŠ¸ì˜ ì—¬ëŸ¬ê°€ì§€ ìƒì‚° ë°©ì‹ë“¤ ğŸ‘‰ ì„œë¸Œ íŒ©í† ë¦¬ í´ë˜ìŠ¤ (ìì‹ë“¤)
ë¶€ëª¨ì¸ íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¡œ ì„œë¸Œ íŒ©í† ë¦¬ í´ë˜ìŠ¤ë“¤ì„ ì°¸ì¡°í•˜ë©´, íŒ©í† ë¦¬ í´ë˜ìŠ¤ ì…ì¥ì—ì„  ë­˜ ì–´ë–»ê²Œ ìƒì„±í•˜ëŠ”ì§€ ì•Œ í•„ìš” ì—†ì´ ê·¸ëƒ¥ ìƒì„±ë§Œ í•´ì£¼ë©´ ëœë‹¤. ğŸ‘‰ ë‹¤í˜•ì„±

ìœ ì§€ ë³´ìˆ˜ê°€ í¸ë¦¬
ìƒì„± ë°©ì‹ë“¤ì„ ì¶”ê°€/ìˆ˜ì •í• ë• ì„œë¸Œ íŒ©í† ë¦¬ í´ë˜ìŠ¤ ë‚´ìš©ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì„œë¸Œ íŒ©í† ë¦¬ í´ë˜ìŠ¤ ë˜ ë‹¤ë¥¸ê±° í•˜ë‚˜ ë” ì¶”ê°€í•˜ê±°ë‚˜ ê·¸ë ‡ê²Œë§Œ í•˜ë©´ ëœë‹¤.
íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•  í•„ìš”ëŠ” ì—†ë‹¤.

ì´ë ‡ê²Œ ë˜ë©´ ì´ í”„ë¡œê·¸ë¨ì„ ì´ìš©í•˜ëŠ” í”¼ìê°€ê²Œê°€ ëŠ˜ì–´ ë‚  ë•Œë§ˆë‹¤ if-else ë¬¸ì´ ì ì  ëŠ˜ì–´ë‚˜ê²Œ ëœë‹¤.

ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” PizzaStore í´ë˜ìŠ¤ê°€ ê° ì§€ì—­ì˜ ê°€ê²Œë“¤ ë³„ë¡œ ë‚˜ëˆ„ì–´ì§ˆ í•„ìš”ê°€ ìˆë‹¤.

ë” ìœ ì—°í•˜ê²Œ ëŒ€ì²˜ í•  ìˆ˜ ìˆë‹¤.

ê°ì²´ë¥¼ ìƒì„±í•´ë‚´ëŠ” ê³µì¥ì„ 'ì¸ìŠ¤í„´ìŠ¤í™”'í•˜ì—¬, ì–´ë–¤ ê°ì²´ë¥¼ ìƒì„±í• ì§€ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ê²Œ ë§¡ê¸°ëŠ” ë°©ë²•ì´ë‹¤.  

 

'Simple factory'ì—ì„œ ë³¸ PizzaStoreë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ì.

 

PizzaStore ë‚´ë¶€ì— ê°ì²´ ìƒì„±ë§Œì„ ì²˜ë¦¬í•˜ëŠ” createPizza()ë©”ì†Œë“œë¥¼ ì¶”ìƒ ë©”ì†Œë“œë¡œ ì„ ì–¸í•œë‹¤. ->ì¸ìŠ¤í„´ìŠ¤í™”

ê·¸ë¦¬ê³  PizzaStoreë¥¼ ìƒì†ë°›ì€ NYPizzaStoreê³¼ ChicagoPizzaStoreì—ì„œ createPizza()ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ë©°, ì§ì ‘ í•„ìš”í•œ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ->ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì–´ë–¤ ê°ì²´ë¥¼ ìƒì„±í• ì§€ ê²°ì •í•œë‹¤.
ì‹¬í”Œ íŒ©í† ë¦¬ì™€ ë¹„êµí•˜ìë©´, ìƒì„±í•˜ëŠ” ì œí’ˆì„ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ë§ˆìŒëŒ€ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ëŠ” í° ìœ ì—°ì„±ì„ ì£¼ê³  ìˆë‹¤.

ê°€ì¥ í° ë¶€ë¶„ì€ ì œí’ˆì„ ìƒì‚°í•˜ëŠ” ë¶€ë¶„ê³¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.

(ë‹¤ì‹œ ë§í•´, Creator í´ë˜ìŠ¤ê°€ ConcreteProductì™€ ëŠìŠ¨í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆë‹¤.)

ë”°ë¼ì„œ ë‹¤ë¥¸ ì œí’ˆì„ ì¶”ê°€í•˜ê±°ë‚˜ ì œí’ˆ êµ¬ì„±ì„ ë³€ê²½ì‹œí‚¤ë”ë¼ë„ ì œí’ˆì„ ìƒì‚°í•˜ëŠ” ë¶€ë¶„(Creator)ì€ ê±´ë“œë¦´ í•„ìš”ê°€ ì—†ë‹¤.

-> ê²°ë¡ ì€ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì´ ë›°ì–´ë‚¨



ì¶œì²˜: https://flower0.tistory.com/415 [ê°œë°œì ë¼ë©´]

Method Factory Pattern
ìœ„ì™€ ê°™ì´ íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì„ ì´ìš©í•˜ë©´, í”¼ìë¥¼ ë§Œë“œëŠ” í™œë™(prepare, bake, cut, box)ì€ ì „ë¶€ PizzaStoreì— êµ­í•œì‹œí‚¤ë©´ì„œë„ ë¶„ì (NYPizzaStore, ChicagoPizzaStore)ë§ˆë‹¤ ê³ ìœ  ìŠ¤íƒ€ì¼ì˜ í”¼ìë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

ë‹¤ì‹œ ì •ë¦¬í•˜ë©´, í”¼ì ê°€ê²Œì™€ í”¼ì ì œì‘ ê³¼ì • ì „ì²´ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì–´ì£¼ëŠ” í”„ë ˆì„ ì›Œí¬ë¥¼ ë§Œë“¤ì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , ìœ ì—°ì„±ë„ ìƒì§€ ì•Šì•˜ë‹¤.
ë¶„ê¸°ë¬¸ë„ ë¶„ê¸°ë¬¸ì´ì§€ë§Œ ì¢…ì†ì„±ì„ ì™„ì „ ë¶„ë¦¬ í•˜ëŠ” ì‹ìœ¼ë¡œ ì ‘ê·¼ í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì€ ê·¸ëƒ¥ ì´ê³³ì €ê³³ì—ì„œ í´ë˜ìŠ¤ íŒŒìƒí•´ì„œ ì´ˆê¸°í™”í•˜ê³  ì“°ê³  í•˜ë‹¤ë³´ë‹ˆ ì¤‘ë³µì½”ë“œê°€ ìƒê²¨ì„œ ë³´ê¸°ì‹«ì€ê±¸ í•œê³³ì— ì •ë¦¬í•´ë†“ì€ê±°ë¼.. ì‚¬ì‹¤ ìœ ë‹ˆí‹°ëŠ” í”„ë¦¬íŒ¹ìœ¼ë¡œ ë¯¸ë¦¬ ì„¸íŒ…í•´ë†“ê³  ìƒì„±í•˜ëŠ”ê²Œ ë” ì¢‹ê¸° ë•Œë¬¸ì— ê·¸ë‹¤ì§€ ì“°ì´ì§€ë„ ì•Šì•„ìš”; ë³µì¡í•œ ì¸ê²Œì„ ì‹œìŠ¤í…œì´ë¼ë©´ ë˜ ëª¨ë¥¼ê¹Œ..

ì§ˆë¬¸ìš”ì§€ëŠ” if-elseë¬¸ìœ¼ë¡œ ëŠ˜ì—¬í‹€ì—¬ì„œ ì´ˆê¸°í™”í•˜ê³  ë¦¬í„´í•˜ëŠ”ê²ƒê³¼ ìƒì†ë°›ì•„ì„œ ì„¸íŒ…í•˜ê³  ë¦¬í„´í•˜ëŠ”ê±°ê°€ ë­ê°€ ë‹¤ë¥´ëƒ, í•˜ëŠ”ê±´ë° ì œ ìƒê°ì—ë„ í° ì°¨ì´ëŠ” ì—†ëŠ”ê±°ê°™ì•„ìš”. ê·¸ëƒ¥ í›„ìê°€ ë” ì½”ë“œê°€ ê¹”ë”í•˜ê³  ì„œë¡œ ë¶„ë¦¬ë˜ë³´ì´ë‹ˆê¹Œ ê´€ë¦¬í•˜ê¸°ëŠ” ì¢‹ê² ì£ 

ìœ„í‚¤ì—ì„œë„ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ì¢‹ì€ íŒ¨í„´ì€ ì•„ë‹ˆë¼ê³  ëª…ì‹œí•˜ê³  ìˆëŠ”ë°, ê·¸ëƒ¥ if-elseë¬¸ì„ ì¡°ê¸ˆ ì´ì˜ê²Œ ì •ë¦¬í•œê±°ë‹ˆ ë‹¹ì—°í•˜ê±°ê² ì£ . ê·¸ë ‡ë‹¤ê³  ì•ˆì¢‹ì€ íŒ¨í„´ì€ ì•„ë‹Œê²Œ, íŒŒìƒí´ë˜ìŠ¤ë¥¼ ì—¬ëŸ¬ê°œ ì´ˆê¸°í™”í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ìƒê¸°ë©´ ì¤‘ë³µì½”ë“œëŠ” ìƒê¸¸ìˆ˜ë„ ìˆê¸° ë§ˆë ¨ì´ê³  ê·¸ë•Œ ìœ ìš©í•˜ê²Œ ì“°ì´ê¸´ í• ê±°ì—ìš”

Template Methodì˜ ìƒì„± íŒ¨í„´ ë²„ì „ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆëŠ”ë° Template Methodë¥¼ ì•Œì§€ ëª»í•œë‹¤ë©´ ê·¸ íŒ¨í„´ì„ ë¨¼ì € ì´í•´í•˜ëŠ” ê²ƒì´ Factory Methodë¥¼ ì´í•´í•˜ê¸° ìˆ˜ì›”í•  ê²ƒì´ë‹¤.

Factory Methodê°€ ì¤‘ì²©ë˜ê¸° ì‹œì‘í•˜ë©´ êµ‰ì¥íˆ ë³µì¡í•´ ì§ˆ ìˆ˜ ìˆë‹¤. ë˜í•œ ìƒì†ì„ ì‚¬ìš©í•˜ì§€ë§Œ ë¶€ëª¨(ìƒìœ„) í´ë˜ìŠ¤ë¥¼ ì „í˜€ í™•ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì´ íŒ¨í„´ì€ extends ê´€ê³„ë¥¼ ì˜ëª» ì´ìš©í•œ ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. extends ê´€ê³„ë¥¼ ë‚¨ë°œí•˜ê²Œ ë˜ë©´ í”„ë¡œê·¸ë¨ì˜ ì—”íŠ¸ë¡œí”¼ê°€ ë†’ì•„ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ Factory Method íŒ¨í„´ì˜ ì‚¬ìš©ì„ ì£¼ì˜í•´ì•¼ í•œë‹¤.

```c#
abstract class UnitGenerator
{
    public List<Unit> units = new List<Unit>();

    public List<Unit> getUnits()
    {
        return units;
    }

    // Factory Method
    public abstract void CreateUnits(); 
}

class PatternGenerator_A : UnitGenerator
{
    public override void CreateUnits()
    {
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
    }
}

class PatternGenerator_B : UnitGenerator
{
    public override void CreateUnits()
    {
        units.Add(new Firebat());
        units.Add(new Firebat());
        units.Add(new Firebat());
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
        units.Add(new Marine());
    }
}

public class UseFactoryMethod : MonoBehaviour 
{
	UnitGenerator[] unitGenerators = null;

	void Start () 
	{
		unitGenerators = new UnitGenerator[2];
		unitGenerators[0] = new PatternGenerator_A();
		unitGenerators[1] = new PatternGenerator_B();
	}

	public void DoMakeTypeA()
	{
		unitGenerators[0].CreateUnits();
        	List<Unit> units = unitGenerators[0].getUnits();
		
        	foreach (Unit unit in units)
        	{
            	unit.Attack();
        	}
    	}

	public void DoMakeTypeB()
	{
		unitGenerators[1].CreateUnits();
        	List<Unit> units = unitGenerators[1].getUnits();
        	
		foreach (Unit unit in units)
        	{
           	 	unit.Attack();
      		}
    	}
}
```
<br>
<br>

## Abstract Factory Pattern
